<div class="w-2/3 h-96 mx-auto max-w-7xl px-10 lg:px-12 relative">

  <h1 class="text-center font-medium">Wahlergebnis
    ({{ chartMode == 'secondaryVotes' ? "Zweitstimmen" : chartMode == 'firstVotes' ? "Erststimmen" : "Gruppiert" }})</h1>

  <div #containerRef class="flex justify-center text-xl">
    <ng-container *ngIf="chartMode === 'secondaryVotes' || chartMode === 'firstVotes'">
      <ngx-charts-bar-vertical #stimmenChart class="w-full h-96 mx-auto"
                               [view]="[containerRef.offsetWidth, containerRef.offsetHeight]"
                               [scheme]="chartConfig.scheme"
                               [results]="chartData"
                               [xAxis]="chartConfig.showXAxis"
                               [yAxis]="chartConfig.showYAxis"
                               [gradient]="chartConfig.gradient"
                               [showXAxisLabel]="chartConfig.showXAxisLabel"
                               [xAxisLabel]="chartConfig.xAxisLabel"
                               [showYAxisLabel]="chartConfig.showYAxisLabel"
                               [yAxisLabel]="chartConfig.yAxisLabel"
                               [legend]="chartConfig.showLegend"
                               [legendTitle]="chartConfig.legendTitle"
                               [customColors]="barChartColorScheme"
      >
        <ng-template #tooltipTemplate let-model="model">
          <div class="custom-tooltip text-xl">
            <span>{{ model.name }}:</span> <br>
            <span>{{ model.value | number: '1.2-2' }}%</span>
          </div>
        </ng-template>
      </ngx-charts-bar-vertical>
    </ng-container>
  </div>

  <div #containerRef class="flex justify-center text-xl">
    <ng-container *ngIf="chartMode === 'grouped'">
      <ngx-charts-bar-vertical-2d #groupedChart class="w-full h-96 mx-auto"
                                  [view]="[containerRef.offsetWidth, containerRef.offsetHeight]"
                                  [scheme]="chartConfig.scheme"
                                  [results]="chartData"
                                  [xAxis]="chartConfig.showXAxis"
                                  [yAxis]="chartConfig.showYAxis"
                                  [gradient]="chartConfig.gradient"
                                  [showXAxisLabel]="chartConfig.showXAxisLabel"
                                  [xAxisLabel]="chartConfig.xAxisLabel"
                                  [showYAxisLabel]="chartConfig.showYAxisLabel"
                                  [yAxisLabel]="chartConfig.yAxisLabel"
                                  [legend]="chartConfig.showLegend"
                                  [legendTitle]="chartConfig.legendTitle"
                                  [customColors]="barChart2DColorScheme"
      >
        <ng-template #tooltipTemplate let-model="model">
          <div class="custom-tooltip text-xl">
            <span>{{ model.name }}:</span> <br>
            <span>{{ model.value | number: '1.2-2' }}%</span>
          </div>
        </ng-template>
      </ngx-charts-bar-vertical-2d>
    </ng-container>
  </div>
</div>
